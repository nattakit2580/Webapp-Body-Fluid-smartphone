<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="theme-color" content="#0B1220" />
  <meta name="description" content="Blast Grading Prediction with YOLO" />
  <link rel="manifest" href="./manifest.json" />
  <link rel="icon" href="./blast.jpg" />

  <link rel="apple-touch-icon" href="./blast.jpg" />

  <title>Blast Grading ‚Ä¢ YOLO WebApp</title>
  <link rel="stylesheet" href="./styles.css" />
</head>

<body>
  <div class="bg"></div>
  <div class="grain"></div>

  <header class="top">
    <div class="brand">
      <div class="logo-wrap">
        <img class="logo" src="./blast.jpg" alt="logo" />

        <span class="spark"></span>
      </div>

      <div class="t">
        <div class="title">Blast Grading</div>
        <div class="sub">One-tap Camera ‚Üí YOLO ‚Üí Boxes</div>
      </div>
    </div>

    <div class="pill" id="pillApi" title="API status">
      <span class="dot" id="dot"></span>
      <span id="apiText">API: checking‚Ä¶</span>
    </div>
  </header>

  <main class="wrap">
    <section class="card">
      <!-- HERO -->
      <div class="hero">
        <div class="hero-title">‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ</div>
        <div class="hero-sub">
          ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ (‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏Ñ‡∏•‡∏±‡∏á‡∏£‡∏π‡∏õ) ‡πÅ‡∏•‡πâ‡∏ß‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡πÉ‡∏´‡πâ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
        </div>

        <input id="fileInput" type="file" accept="image/*" capture="environment" hidden />

        <div class="actions">
          <button class="btn btn-primary btn-big" id="btnCamera" type="button">
            <span class="btn-ic">üì∑</span>
            <span class="btn-tx">‡πÄ‡∏õ‡∏¥‡∏î‡∏Å‡∏•‡πâ‡∏≠‡∏á / ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ</span>
          </button>

          <button class="btn btn-ghost" id="btnRetake" type="button" disabled>
            üîÑ ‡∏ñ‡πà‡∏≤‡∏¢/‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ‡πÉ‡∏´‡∏°‡πà
          </button>
        </div>

        <div class="status">
          <span class="badge" id="badge">‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</span>
          <span class="status-text" id="statusText">‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°</span>
        </div>

        <div class="mini-tip">
          <span class="mini-dot"></span>
          <span>‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥: ‡∏ñ‡πà‡∏≤‡∏¢‡∏†‡∏≤‡∏û‡πÉ‡∏´‡πâ‡∏ä‡∏±‡∏î + ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏•‡∏≤‡∏á‡πÄ‡∏ü‡∏£‡∏°</span>
        </div>
      </div>

      <div class="divider"></div>

      <!-- STAGE -->
      <div class="stage">
        <div class="stage-top">
          <div class="kpi">
            <div class="k">‡∏Ç‡∏ô‡∏≤‡∏î‡∏†‡∏≤‡∏û</div>
            <div class="v" id="imgSize">-</div>
          </div>
          <div class="kpi">
            <div class="k">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Å‡∏•‡πà‡∏≠‡∏á</div>
            <div class="v" id="detCount">-</div>
          </div>
          <div class="kpi">
            <div class="k">API</div>
            <div class="v" id="apiStatus">-</div>
          </div>
        </div>

        <div class="preview" id="previewBox">
          <img id="previewImg" alt="preview" />
          <canvas id="overlay"></canvas>

          <div class="empty" id="empty">
            <div class="e1">üñºÔ∏è</div>
            <div class="e2">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏π‡∏õ</div>
            <div class="e3">‡∏Å‡∏î ‚Äú‡πÄ‡∏õ‡∏¥‡∏î‡∏Å‡∏•‡πâ‡∏≠‡∏á / ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ‚Äù</div>
          </div>

          <div class="loading" id="loading" aria-hidden="true">
            <div class="spin"></div>
            <div class="loading-text">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‚Ä¶</div>
          </div>
        </div>

        <div class="hint">
          * Firebase Hosting ‡∏à‡∏∞‡πÄ‡∏£‡∏µ‡∏¢‡∏Å <code>/api/predict</code> (rewrite ‡πÑ‡∏õ Cloud Run) ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
        </div>
      </div>

      <div class="divider"></div>

      <!-- RESULTS -->
      <div class="result-head">
        <div class="rh-left">
          <div class="rh-title">‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå</div>
          <div class="rh-sub">class + confidence + bbox</div>
        </div>

        <button class="btn btn-chip" id="btnToggleBoxes" type="button" disabled>
          üëÅÔ∏è ‡∏ã‡πà‡∏≠‡∏ô‡∏Å‡∏£‡∏≠‡∏ö
        </button>
      </div>

      <div class="summary" id="summary" style="display:none;">
        <div class="sum-ic">‚ú®</div>
        <div class="sum-body">
          <div class="sum-title" id="sumTitle">Top class</div>
          <div class="sum-sub" id="sumSub">-</div>
        </div>
      </div>

      <div class="results" id="results">
        <div class="results-empty" id="resultsEmpty">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå</div>
      </div>

      <footer class="foot">
        <span>¬© <span id="year"></span> Blast Grading ‚Ä¢ YOLO WebApp</span>
        <span class="tag">Mobile-first</span>
        <span class="tag">Auto predict</span>
        <span class="tag">Canvas overlay</span>
      </footer>
    </section>
  </main>

  <script src="./app.js"></script>
</body>
</html>
